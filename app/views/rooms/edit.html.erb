<%= render "shared/header"%>

<div class="registration-body">
  <%= form_with model: @room, url: room_path(@room), class: 'registration-main', local: true do |f| %>
  <div class='form-wrap'>
    <div class='form-header'>
      <h1 class='form-header-text'>
        学習報告ルームの情報を編集
      </h1>
    </div>

    <%= render 'shared/error_messages', model: f.object %>
    
    <div class="form-group">
      <div class='form-text-wrap'>
        <label class="form-text">ルーム画像</label>
      </div>
      <div class="click-upload">
        <p>
          クリックしてファイルをアップロード
        </p>
        <%= f.file_field :image, class:"room-image" %>
      </div>
    </div>

    <div class="form-group">
      <div class='form-text-wrap'>
        <%= f.label :title, "ルーム名", class:"form-text" %>
        <span class="indispensable">必須</span>
      </div>
      <%= f.text_area :title, class:"input-default", placeholder:"例) rails勉強会", maxlength:"40" %>
    </div>
    <div class="form-group">
      <div class='form-text-wrap'>
        <%= f.label :purpose_room, "学習報告ルームの目的", class:"form-text" %>
        <span class="indispensable">※140字まで</span>
      </div>
      <%= f.text_area :purpose_room, class:"input-introduction", placeholder:"ルームの説明（学習テーマ、目的、学習目標等）例) Ruby on Railsの学習報告ルームです。webエンジニアを目指して学習を行っていきましょう。平日2時間、休日8時間学習しましょう", maxlength:"140" %>
    </div>
      <!-- これで現在ログインしているユーザーの情報も含められる -->
    <% @room.users.each do |user| %>
      <input name="room[user_ids][]" type="hidden" value=<%= user.id %>>
    <% end %>
    

    <div class="form-group">
      <h2 class='form-bottom-text'>
        「ルーム作成」ボタンを押すと、学習報告ルームが生成されます。
      </h2>
    </div>
    <div class='register-btn'>
      <%= f.submit "ルーム情報を更新する" ,class:"register-link" %>
    </div>
  </div>
  <% end %>
</div>
<%= render "shared/footer"%>
